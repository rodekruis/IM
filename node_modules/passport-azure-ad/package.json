{
  "name": "passport-azure-ad",
  "version": "0.0.3",
  "licenses": [
    {
      "type": "Apache 2.0",
      "url": "https://github.com/MSOpenTech/aal/raw/master/License.txt"
    }
  ],
  "keywords": [
    "saml",
    "samlp",
    "wsfed",
    "azure active directory",
    "aad",
    "adfs",
    "sso",
    "shibboleth"
  ],
  "description": "WSFED/SAMLP 2.0 authentication Passport strategies for Windows Azure Active Directory",
  "author": {
    "name": "Microsoft Open Technologies Inc",
    "email": "msopentech@microsoft.com",
    "url": "http://msopentech.com/"
  },
  "repository": {
    "type": "git",
    "url": "http://github.com/MSOpenTech/passport-azure-ad.git"
  },
  "main": "./lib/passport-azure-ad",
  "dependencies": {
    "passport": "0.1.x",
    "xml2js": "0.2.6",
    "xml-crypto": "0.0.x",
    "xmldom": "0.1.x",
    "async": "~0.2.7",
    "request": "~2.16.6",
    "underscore": "~1.4.4",
    "xtend": "~2.0.3"
  },
  "devDependencies": {
    "grunt-contrib-jshint": "~0.1.1",
    "grunt-contrib-nodeunit": "~0.1.2",
    "grunt-contrib-watch": "~0.2.0",
    "grunt": "~0.4.1"
  },
  "scripts": {
    "test": "grunt nodeunit"
  },
  "engines": {
    "node": ">= 0.8.0"
  },
  "readme": "# Windows Azure Active Directory Passport.js Plug-In\n\n[Passport](http://passportjs.org/) is authentication middleware for Node.js. Passport can be used in any Express-based web application. A comprehensive and large set of strategies support authentication using a username and password, Facebook, Twitter, and more. In order to enable you to quickly integrate Windows Azure Active Directory in to your website quickly, we have developed a strategy for Windows Azure Active Directory.\n\nThe passport-azure-ad module is a WS-Federation / SAML-P authentication provider for Passport. This provider lets you integrate your Node app with Windows Azure AD so you can use its many features, including web single sign-on (WebSSO). \n\n\nThe code is based on Henri Bergius's [passport-saml](https://github.com/bergie/passport-saml) library and Matias Woloski's [passport-wsfed-saml2](https://github.com/auth0/passport-wsfed-saml2) library.\n\npassport-azure-ad has been tested to work with both [Windows Azure Active Directory](https://www.windowsazure.com/en-us/home/features/identity/) and with [Microsoft Active Directory Federation Services](http://en.wikipedia.org/wiki/Active_Directory_Federation_Services).\n\nFor a detailed walkthrough of using Passport.js to add web single sign-on to a Node app, see: [Windows Azure AD Walkthrough for Node.js](https://github.com/MSOpenTech/AzureAD-Node-Sample/wiki).\n\n## Installation\n\n```\n$ npm install passport-azure-ad\n```\n\n## Usage\n\nThis sample uses a WS-Federation protocol with express:\n\n```javascript\nvar express = require('express');\nvar passport = require('passport');\nvar wsfedsaml2 = require('passport-azure-ad').WsfedStrategy\nvar app = express();\n\n// configure express\napp.use(express.cookieParser());\napp.use(express.bodyParser());\napp.use(express.session({ secret: 'keyboard cat' }));\napp.use(passport.initialize());\napp.use(passport.session());\napp.use(app.router);\n\nvar config = {\n\trealm: 'http://localhost:3000/',\n\tidentityProviderUrl: 'https://login.windows.net/ad0ffc54-96b9-4757-bbb0-fcc293e2f4aa/wsfed',\n\tidentityMetadata: 'https://login.windows.net/ad0ffc54-96b9-4757-bbb0-fcc293e2f4aa/federationmetadata/2007-06/federationmetadata.xml'\n\tlogoutUrl:'http://localhost:3000/'\n};\n\nvar wsfedStrategy = new wsfedsaml2(config, function(profile, done) {\n    if (!profile.email) {\n        done(new Error(\"No email found\"));\n        return;\n    }\n    // validate the user here\n    done(null, profile);\n});\n\npassport.use(wsfedStrategy);\n\n// implement your user session strategy here\npassport.serializeUser(function(user,cb){ ... });\npassport.deserializeUser(function(userid,cb){ ... });\n\n// send the user to WAAD to authenticate\t\napp.get('/login', passport.authenticate('wsfed-saml2', { failureRedirect: '/', failureFlash: true }), function(req, res) {\n    res.redirect('/');\n});\n\n// callback from WAAD with a token\napp.post('/login/callback', passport.authenticate('wsfed-saml2', { failureRedirect: '/', failureFlash: true }), function(req, res) {\n    res.redirect('/');\n});\n\napp.listen(process.env.PORT || 3000)\n```\n\n## License\nCopyright (c) Microsoft Open Technologies, Inc.  All rights reserved. Licensed under the Apache License, Version 2.0 (the \"License\"); \n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/MSOpenTech/passport-azure-ad/issues"
  },
  "homepage": "https://github.com/MSOpenTech/passport-azure-ad",
  "_id": "passport-azure-ad@0.0.3",
  "_shasum": "7a4e8d43af594c94f340d71aea83844de69b8814",
  "_from": "passport-azure-ad@",
  "_resolved": "https://registry.npmjs.org/passport-azure-ad/-/passport-azure-ad-0.0.3.tgz"
}
